<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<measures xmlns="http://www.quartetfs.com"
	xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.quartetfs.com ../activepivot-types.xsd">

	<!--Your measures and postprocessors here-->
	<measure name="NbOfStocks" field="NbOfStocks" folder="Quantities"  aggregation="SUM" formatter="INT[#,###;-#,###]"/>
	<measure name="Volume.Sum" field="Volume" folder="Quantities" aggregation="SUM" formatter="INT[#,###;-#,###]"/>

	<!--Price AVG -->
	<measure name="OpenPrice.Avg" field="Open" folder="Price" aggregation="AVG" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="HighPrice.Avg" field="High" folder="Price" aggregation="AVG" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="LowPrice.Avg" field="Low" folder="Price" aggregation="AVG" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="ClosePrice.Avg" field="Close" folder="Price" aggregation="AVG" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="AdjClosePrice.Avg" field="AdjClose" folder="Price" aggregation="AVG" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<!--Price SUM -->
	<measure name="OpenPrice.Sum" field="Open" folder="Price" aggregation="SUM" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="HighPrice.Sum" field="High" folder="Price" aggregation="SUM" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="LowPrice.Sum" field="Low" folder="Price" aggregation="SUM" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="ClosePrice.Sum" field="Close" folder="Price" aggregation="SUM" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>
	<measure name="AdjClosePrice.Sum" field="AdjClose" folder="Price" aggregation="SUM" formatter="DOUBLE[#,###.00;-#,###.00]" visible="false"/>

	<!-- Min Depth postProcessor -->
	<postProcessor name="OpenPriceSum.MIN_DEPTH" pluginKey="MINIMUM_DEPTH" folder="Price" underlyingMeasures="OpenPrice.Sum">
		<properties>
			<entry key="minimumDepth" value="1"/>
			<entry key="hierarchyName" value="StockSymbolHierarchy"/>
		</properties>
	</postProcessor>

	<postProcessor name="OpenPriceAvg.MIN_DEPTH" pluginKey="MINIMUM_DEPTH" folder="Price" underlyingMeasures="OpenPrice.Avg">
		<properties>
			<entry key="hierarchyName" value="StockSymbolHierarchy"/>
			<entry key="minimumDepth" value="1"/>
		</properties>
	</postProcessor>

	<postProcessor name="ClosePriceSum.MIN_DEPTH" pluginKey="MINIMUM_DEPTH" folder="Price" underlyingMeasures="ClosePrice.Sum">
		<properties>
			<entry key="hierarchyName" value="StockSymbolHierarchy"/>
			<entry key="minimumDepth" value="1"/>
		</properties>
	</postProcessor>

	<postProcessor name="ClosePriceAvg.MIN_DEPTH" pluginKey="MINIMUM_DEPTH" folder="Price" underlyingMeasures="ClosePrice.Avg">
		<properties>
			<entry key="hierarchyName" value="StockSymbolHierarchy"/>
			<entry key="minimumDepth" value="1"/>
		</properties>
	</postProcessor>

	<postProcessor name="PortfolioValue" pluginKey="PORTFOLIO_VALUE" underlyingMeasures="NbOfStocks,ClosePrice.Avg" formatter="DOUBLE[#,###.00;-#,###.00]" folder="PostProcs">
		<properties>
			<entry key="leafLevels" value="StockSymbol@StockSymbolHierarchy@StockSymbols" />
			<entry key="aggregatedFunctions" value="SUM" />
		</properties>
	</postProcessor>

	<postProcessor name="PortfolioTotalValue" pluginKey="PORTFOLIO_TOTAL_VALUE" underlyingMeasures="PortfolioValue" folder="PostProcs">
		<properties>
			<entry key="levelToShift" value="Sector@SectorHierarchy@Sectors" />
		</properties>
	</postProcessor>

	<postProcessor name="PortfolioValueWeight" pluginKey="FORMULA" folder="PostProcs" formatter="DOUBLE[#,###.00;-#,###.00]">
		<properties>
			<entry key="formula" value="aggregatedValue[PortfolioValue],aggregatedValue[PortfolioTotalValue],int[0],div" />
		</properties>
	</postProcessor>

    <postProcessor name="PeriodReturn" pluginKey="PERIOD_RETURN" folder="PostProcs">
        <properties>
            <entry key="timeHierarchyName" value="TimeHierarchy" />
            <entry key="streamMeasureName" value="ClosePrice.Avg" />
            <entry key="positionType" value="CURRENT_STREAM" />
        </properties>
    </postProcessor>

	<postProcessor name="CumulativeReturn" pluginKey="CUMULATIVE_RETURN" folder="PostProcs" formatter="DOUBLE[#,###.00;-#,###.00]">
		<properties>
			<entry key="timeHierarchyName" value="TimeHierarchy" />
			<entry key="streamMeasureName" value="ClosePrice.Avg" />
			<entry key="positionType" value="CURRENT_STREAM" />
		</properties>
	</postProcessor>

	<postProcessor name="ExempleValues" pluginKey="PORTFOLIO_SELECT" underlyingMeasures="PeriodReturn">
		<properties>
			<entry key="levelToShift" value="PortfolioType@PortfolioTypeHierarchy@PortfolioTypes" />
			<entry key="portfolioType" value="exemple" />
			<entry key="hierarchyName" value="PortfolioTypeHierarchy" />
		</properties>
	</postProcessor>

	<postProcessor name="BenchmarkValues" pluginKey="PORTFOLIO_SELECT" underlyingMeasures="PeriodReturn">
		<properties>
			<entry key="levelToShift" value="PortfolioType@PortfolioTypeHierarchy@PortfolioTypes" />
			<entry key="portfolioType" value="benchmark" />
			<entry key="hierarchyName" value="PortfolioTypeHierarchy" />
		</properties>
	</postProcessor>

	<postProcessor name="Performance" pluginKey="FORMULA" folder="PostProcs" >
		<properties>
			<entry key="formula" value="aggregatedValue[ExempleValues],aggregatedValue[BenchmarkValues],-" />
		</properties>
	</postProcessor>

	<postProcessor name="RelativePerformance" pluginKey="FORMULA" folder="PostProcs" >
		<properties>
			<entry key="formula" value="((aggregatedValue[ExempleValues],aggregatedValue[BenchmarkValues],-),aggregatedValue[BenchmarkValues],int[0],div),int[100],*" />
		</properties>
	</postProcessor>

</measures>